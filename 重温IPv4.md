# 

IPv4是互联网的核心，也是使用最广泛的网络协议版本。一个IP地址包含两部分：标识网络的前缀和紧接着的在这个网络内的主机地址。

## 历史分类
互联网初期32位的IPv4地址按前8位的网络地址和剩下的主机位构成。

后来由于网络数量受限制，IETF制订了新的[网络分类标准](https://tools.ietf.org/html/rfc791)，兼容了之前采用的标准，按照"高位前缀+分段"的形式进行了新的分类：

|High Order Bits| Format                           | Class|
|---------------|----------------------------------|------|
|0              |7 bits of net, 24 bits of host    |  a   |
|10             |14 bits of net, 16 bits of host   |  b   |
|110            |21 bits of net,  8 bits of host   |  c   |
|111            |escape to extended addressing mode|

按照此分类方法，所有的网络设备都可以通过查看IP地址的前几位来确定地址所属的类别。同时由于每种类型网络位和主机位都是固定的，这就限定了网络数量和主机数目，这种设计显得可扩充性不足。[分类网络](https://zh.wikipedia.org/wiki/%E5%88%86%E7%B1%BB%E7%BD%91%E7%BB%9C)

## 无类别域间路由（Classless Inter-Domain Routing、CIDR）
无类别域间路由是基于可变长子网掩码（VLSM）来进行任意长度的前缀的分配的。在RFC 950（1985）中有关于可变长子网掩码的说明。CIDR包括：
- 指定任意长度的前缀的可变长子网掩码技术。遵从CIDR规则的地址有一个后缀说明前缀的位数，例如：192.168.0.0/16。这使得对日益缺乏的IPv4地址的使用更加有效。
- 将多个连续的前缀聚合成超网，以及，在互联网中，只要有可能，就显示为一个聚合的网络，因此在总体上可以减少路由表的表项数目。聚合使得互联网的路由表不用分为多级，并通过VLSM逆转“划分子网”的过程。
- 根据机构的实际需要和短期预期需要而不是分类网络中所限定的过大或过小的地址块来管理IP地址的分配的过程。

本质上CIDR就是打破了原有分类固定按照8位一段的规则，使得IP分配更加灵活高效。[无类别域间路由](https://zh.wikipedia.org/wiki/%E6%97%A0%E7%B1%BB%E5%88%AB%E5%9F%9F%E9%97%B4%E8%B7%AF%E7%94%B1)

## IP地址比较
对每个地址，在确定它的网络地址所占的位数和相应的值之后，就可以比较它们的网络地址了。如果两个网络地址相同，则两个IP地址在同一网络上。
(https://zh.wikipedia.org/wiki/%E5%88%86%E7%B1%BB%E7%BD%91%E7%BB%9C)

## 专用网络
名字	| 地址范围	| 地址数量	| 有类别的描述	| 最大的CIDR地址块
----|-----------|-----------|---------------|----------------|
24位块	|10.0.0.0–10.255.255.255	|16,777,216	|一个A类	        |10.0.0.0/8
20位块	|172.16.0.0–172.31.255.255	|1,048,576	|连续的16个B类	|172.16.0.0/12
16位块	|192.168.0.0–192.168.255.255|	65,536	|连续的256个C类	|192.168.0.0/16

## 参考
- [保留IP地址](https://zh.wikipedia.org/wiki/%E4%BF%9D%E7%95%99IP%E5%9C%B0%E5%9D%80)
- [IPv4](https://zh.wikipedia.org/wiki/IPv4)